<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Windows 1 Emulator</title>
    <style>
        body {
            font-family: 'Courier New', Courier, monospace;
            background-color: #008080;
            color: white;
            margin: 0;
            overflow: hidden;
        }

        .window {
            position: absolute;
            overflow: hidden;
        }

        .title-bar {
            height: 20px;
            background-color: #008080;
            padding: 5px;
            text-align: center;
            color: white;
            user-select: none;
            cursor: move;
        }

        .content {
            padding: 10px;
            user-select: text;
        }

        .close-button {
            float: right;
            cursor: pointer;
        }

        /* Resizable handle */
        .resizable-handle {
            width: 20px;
            height: 20px;
            background-color: #008080;
            position: absolute;
            bottom: 0;
            right: 0;
            cursor: se-resize;
        }

        /* Old styles for Windows 1 appearance */
        .window {
            width: 300px;
            height: 200px;
            border: 2px solid #000;
            background-color: #fff;
            border-radius: 0;
        }

        .resizable-handle {
            width: 10px;
            height: 10px;
        }

        /* Windows 10-like styles */
        .window.windows-10 {
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
            border-radius: 5px;
            background-color: #f0f0f0;
        }

        .title-bar.windows-10 {
            background-color: #0078d4;
            color: white;
            border-top-left-radius: 5px;
            border-top-right-radius: 5px;
        }

        .close-button.windows-10 {
            color: white;
        }

        .resizable-handle.windows-10 {
            background-color: #0078d4;
        }
    </style>
</head>
<body>
    <script>
        class Window {
            constructor(title, content, width, height, isWindows10 = false) {
                this.title = title;
                this.content = content;
                this.width = width;
                this.height = height;
                this.isWindows10 = isWindows10;
                this.isResizing = false;

                this.createWindow();
                this.makeDraggable();
                this.makeResizable();
            }

            createWindow() {
                this.windowElement = document.createElement("div");
                this.windowElement.className = `window ${this.isWindows10 ? 'windows-10' : ''}`;
                this.windowElement.style.width = `${this.width}px`;
                this.windowElement.style.height = `${this.height}px`;
                document.body.appendChild(this.windowElement);

                this.titleBar = document.createElement("div");
                this.titleBar.className = `title-bar ${this.isWindows10 ? 'windows-10' : ''}`;
                this.titleBar.innerHTML = `${this.title}
                    <span class="close-button ${this.isWindows10 ? 'windows-10' : ''}" onclick="closeWindow(this)">X</span>`;
                this.windowElement.appendChild(this.titleBar);

                this.contentElement = document.createElement("div");
                this.contentElement.className = "content";
                this.contentElement.innerHTML = this.content;
                this.windowElement.appendChild(this.contentElement);

                this.resizableHandle = document.createElement("div");
                this.resizableHandle.className = `resizable-handle ${this.isWindows10 ? 'windows-10' : ''}`;
                this.resizableHandle.onmousedown = (e) => this.initResize(e);
                this.windowElement.appendChild(this.resizableHandle);
            }

            makeDraggable() {
                this.windowElement.onmousedown = (e) => this.dragMouseDown(e);

                this.dragMouseDown = (e) => {
                    e = e || window.event;
                    e.preventDefault();
                    this.pos3 = e.clientX;
                    this.pos4 = e.clientY;
                    document.onmouseup = () => this.closeDragElement();
                    document.onmousemove = (e) => this.elementDrag(e);
                };

                this.elementDrag = (e) => {
                    e = e || window.event;
                    e.preventDefault();
                    this.pos1 = this.pos3 - e.clientX;
                    this.pos2 = this.pos4 - e.clientY;
                    this.pos3 = e.clientX;
                    this.pos4 = e.clientY;
                    this.windowElement.style.top = (this.windowElement.offsetTop - this.pos2) + "px";
                    this.windowElement.style.left = (this.windowElement.offsetLeft - this.pos1) + "px";
                };

                this.closeDragElement = () => {
                    document.onmouseup = null;
                    document.onmousemove = null;
                };
            }

            makeResizable() {
                this.resizableHandle.onmousedown = (e) => this.initResize(e);

                this.initResize = (e) => {
                    e.preventDefault();
                    this.isResizing = true;
                    document.addEventListener('mousemove', (e) => this.handleMouseMove(e));
                    document.addEventListener('mouseup', () => this.stopResize());
                };

                this.handleMouseMove = (e) => {
                    if (this.isResizing) {
                        const offsetX = e.clientX - this.windowElement.offsetLeft;
                        const offsetY = e.clientY - this.windowElement.offsetTop;

                        const newWidth = Math.max(200, e.clientX - this.windowElement.offsetLeft + offsetX);
                        const newHeight = Math.max(150, e.clientY - this.windowElement.offsetTop + offsetY);

                        this.windowElement.style.width = newWidth + 'px';
                        this.windowElement.style.height = newHeight + 'px';
                    }
                };

                this.stopResize = () => {
                    this.isResizing = false;
                    document.removeEventListener('mousemove', (e) => this.handleMouseMove(e));
                    document.removeEventListener('mouseup', () => this.stopResize());
                };
            }
        }

        // Create windows
        const window1 = new Window("Window 1", "Content of Window 1", 300, 200);
        const window2 = new Window("Window 2", "Content of Window 2", 400, 250, true);

        // Function to close the window
        function closeWindow(element) {
            const windowElement = element.closest('.window');
            windowElement.style.display = "none";
        }
    </script>
</body>
</html>
